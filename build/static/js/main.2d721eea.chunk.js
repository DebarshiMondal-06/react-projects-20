(this["webpackJsonpfullsite-react"]=this["webpackJsonpfullsite-react"]||[]).push([[0],{67:function(e,t,a){e.exports=a(78)},77:function(e,t,a){},78:function(e,t,a){"use strict";a.r(t);var n,c,l,r,i,s,m=a(1),o=a.n(m),d=a(57),u=a.n(d),b=a(23),E=a(88),g=a(89),f=a(22),p=a(32),h=a(87),y=Object(h.a)(n||(n=Object(p.a)(["\n{\n  allSongs {\n    _id\n    title\n  }\n}"]))),N=Object(h.a)(c||(c=Object(p.a)(["\nquery Get_A_Song($_id: ID!){\n  getSong(_id: $_id){\n    title\n    lyric {\n      _id\n      content\n      likes\n    }\n  }\n}"]))),j=Object(h.a)(l||(l=Object(p.a)(["\nmutation Add_Song($title: String!){\n  addSong(title: $title){\n    _id\n  }\n}"]))),v=Object(h.a)(r||(r=Object(p.a)(["\nmutation Delete_Song($_id: ID!){\n    deleteSong(_id: $_id){\n      _id\n    }\n}"]))),O=Object(h.a)(i||(i=Object(p.a)(["\nmutation add_Lyrics_Song($content: String, $songId: ID!){\n  addLyricToSong(content: $content, songId: $songId){\n    _id\n  }\n}"]))),_=Object(h.a)(s||(s=Object(p.a)(["\nmutation add_Likes_Lyrics($_id: ID!){\n  likeLyric(_id: $_id){\n    _id\n    likes\n  }\n}"]))),S=function(){var e=Object(E.a)(y),t=e.loading,a=e.data,n=e.refetch,c=Object(g.a)(v),l=Object(b.a)(c,1)[0];return o.a.createElement("section",{className:"container"},t?o.a.createElement("h2",{className:"text-center"},"Loading..."):o.a.createElement("main",{className:"row mt-5"},o.a.createElement("div",{className:"col-md-3"}),o.a.createElement("div",{className:"col-md-6"},o.a.createElement("article",{className:"mb-4"},o.a.createElement(f.b,{to:"/add"},o.a.createElement("button",{className:"btn btn-secondary",style:{float:"right"}},"Add")),o.a.createElement("h1",{className:"heading"},"SongList")),a.allSongs.map((function(e,t){var a=e.title;return o.a.createElement("section",{key:t,className:"title-section"},o.a.createElement("li",{className:"song-name text-capitalize"},o.a.createElement(f.b,{style:{color:"grey"},to:"/song/".concat(e._id)},a," "),o.a.createElement("i",{style:{float:"right"},onClick:function(){return t=e._id,void l({variables:{_id:t}}).then((function(){n()}));var t},className:"mt-1 fas fa-trash-alt"}),"\xa0"),o.a.createElement("br",null))})),a.allSongs.length>0?null:o.a.createElement("section",{className:"text-center",style:{marginTop:80}},o.a.createElement("h3",null,"No Data \ud83d\ude15"))),o.a.createElement("div",{className:"col-md-3"})))},k=a(85),x=a(86),w=a(84),$=(a(77),a(9)),L=function(){return o.a.createElement("div",{className:"container mt-5"},o.a.createElement("article",{className:"text-center"},o.a.createElement("h3",{className:"text-center"},"Oops Nothing Found!"),o.a.createElement(f.b,{to:"/"},o.a.createElement("button",{className:"btn btn-primary"},"Back to home"))))},I=function(){var e=Object($.f)(),t=Object(m.useState)(""),a=Object(b.a)(t,2),n=a[0],c=a[1],l=Object(m.useState)(!1),r=Object(b.a)(l,2),i=r[0],s=r[1],d=Object(g.a)(j),u=Object(b.a)(d,1)[0];return o.a.createElement("section",{className:"add-song"},o.a.createElement("h2",null,"Create a Song"),o.a.createElement("main",{style:{width:"50%"}},o.a.createElement("div",{className:"mt-2"},o.a.createElement("label",null,"Song Name: ",n),o.a.createElement("input",{value:n,onChange:function(e){return c(e.target.value)},className:"form-control",type:"text",placeholder:"Type here"})),o.a.createElement(f.b,{to:"/"},o.a.createElement("button",{className:"btn btn-dark"},"Back")),"\xa0",o.a.createElement("button",{type:"submit",onClick:function(){return s(!0),void u({variables:{title:n},refetchQueries:[{query:y}]}).then((function(){c(""),s(!1),setTimeout((function(){e.push("/")}),1500)}))},className:"btn btn-primary"},"Add\xa0\xa0",o.a.createElement("article",{className:"".concat(i?"loader":"fas fa-check")}))))},A=function(e){var t=e.data,a=e.id,n=e.refetch,c=Object(m.useState)(""),l=Object(b.a)(c,2),r=l[0],i=l[1],s=Object(g.a)(O),d=Object(b.a)(s,1)[0];return o.a.createElement("article",{className:"mb-4"},o.a.createElement("h2",{className:"text-capitalize"},t&&t.getSong.title),o.a.createElement("h6",null,"Add Lyrics"),o.a.createElement("div",{style:{display:"flex",flexWrap:"wrap"}},o.a.createElement("input",{value:r,onChange:function(e){return i(e.target.value)},style:{width:"80%"},className:"form-control",type:"text"}),"\xa0\xa0",o.a.createElement("button",{onClick:function(){d({variables:{content:r,songId:a}}).then((function(){i(""),n()}))},style:{width:"100px",letterSpacing:1},className:"btn btn-secondary"},"Add")))},C=function(e){var t=e.content,a=e._id,n=e.likes,c=Object(g.a)(_),l=Object(b.a)(c,1)[0];return o.a.createElement("section",{key:a,className:"title-section"},o.a.createElement("li",{className:"song-name",style:{padding:10,marginBottom:10}},t,o.a.createElement("span",{onClick:function(){l({variables:{_id:a}})},style:{float:"right",cursor:"pointer"}},o.a.createElement("i",{className:"far fa-thumbs-up"}),"\xa0",o.a.createElement("span",{style:{fontSize:13}},n),"\xa0")))},D=function(){var e=Object($.g)().id,t=Object(E.a)(N,{variables:{_id:e},fetchPolicy:"network-only"}),a=t.data,n=t.refetch;return t.loading?o.a.createElement("section",{className:"mt-5 text-center"},"Loading..."):o.a.createElement("section",{className:"container-sm"},o.a.createElement("main",{className:"row mt-5"},o.a.createElement("div",{className:"col-md-2"}),o.a.createElement("div",{className:"col-md-1"},o.a.createElement(f.b,{to:"/"},o.a.createElement("i",{className:"fas fa-2x fa-long-arrow-alt-left"}))),o.a.createElement("div",{className:"col-md-6"},o.a.createElement(A,{data:a,id:e,refetch:n}),o.a.createElement("article",null,o.a.createElement("h5",{style:{fontFamily:"cursive",marginTop:40}},"Available Lyrics"),o.a.createElement("div",{className:"mt-4"},a&&a.getSong.lyric.map((function(e,t){return o.a.createElement(C,Object.assign({key:t},e))})),a&&a.getSong.lyric.length>0?null:o.a.createElement("section",{className:"text-center mt-5"},o.a.createElement("p",null,"No Lyrics Found! \ud83d\ude15"))))),o.a.createElement("div",{className:"col-md-3"})))},q=new k.a({uri:"https://lsp2i6imarbzjnxteybp2dnrhe.appsync-api.ap-northeast-1.amazonaws.com/graphql",cache:new x.a,headers:{"X-api-key":"da2-qblslfqv2jg43lu7nlaeysxrh4"}}),z=function(){return o.a.createElement(f.a,null,o.a.createElement(w.a,{client:q},o.a.createElement($.c,null,o.a.createElement($.a,{exact:!0,path:"/",component:S}),o.a.createElement($.a,{path:"/song/:id",component:D}),o.a.createElement($.a,{path:"/add",component:I}),o.a.createElement($.a,{path:"*",component:L}))))};u.a.render(o.a.createElement(z,null),document.getElementById("root"))}},[[67,1,2]]]);
//# sourceMappingURL=main.2d721eea.chunk.js.map